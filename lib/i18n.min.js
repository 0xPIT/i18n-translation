/* i18n translation script v0.1 | 2012, Christopher Weiss */
(function(){var c={debug:!1,defaultLocale:"en-EN",pattern:/#\{(.*?)\}+/g,style:{missing:"color: red; font-weight: bold;",used:"font-weight: bold;"}};window.i18n=window.__={t:function(){this.log("i18n.t",Array.prototype.slice.call(arguments));var a=Array.prototype.slice.call(arguments),b=a[0],d=a.slice(1),f=c.locale||c.defaultLocale;this.log("options.locale",c);if(f&&a)return b=(a=(a=c[f])&&a[b]?a[b]:!1)||b,(f=this.getAttributes(b))?b=this.setAttributes({toBeTranslated:b,match:f,attributes:d}):a||
(b=this.debug({translated:b,style:c.style.missing,className:"unusedParams",match:"translation"})),b;throw"i18n: Empty. String Missing";},getAttributes:function(a){this.log("i18n.getAttributes",a);a&&(a=a.match(c.pattern));return a},setAttributes:function(a){this.log("i18n.setAttributes",a);var b=a.toBeTranslated,d=a.match.length-1,f=a.attributes,a=a.match,e,g;for(d;0<=d;d-=1)e=f[d]||"",c.debug&&(!g&&!e&&(g=!0),e=e?e=this.debug({translated:e,style:c.style.used,className:"usedParam",match:a[d]}):""),
b=b.replace(a[d],e);g&&(b=this.debug({translated:b,style:c.style.missing,className:"unusedParams",match:a}));return b},debug:function(a){this.log("i18n.debug",a,c);var b=a.translated,d=a.style,f=a.match,e="usedParam"===a.className?"Attribute: ":"Missing: ";return a.translated&&c.debug?'<span class="" title="'+e+f+'" style="'+d+'"">'+b+"</span>":b},setOptions:function(a){this.log("i18n.setOptions",a);var b=Array.prototype.slice.call(arguments),d=b.length-1,c,e;for(d;0<=d;d-=1)for(c in e=b[d],e)e.hasOwnProperty(c)&&
(a[c]=e[c]);return a},addOptions:function(a){this.setOptions(c,a)},setTranslations:function(a){this.setOptions(c,a)},log:function(a){if(c.debug&&a){var b=Array.prototype.slice.call(arguments);window.console&&console.log(b)}}}})(window);